<div class="page-header">
    <h1 class="page-title">Posts List</h1>
    <% if author_signed_in? %>
      <%= link_to 'New Post', new_post_path%>
      <%= link_to 'Log Out', destroy_author_session_path, method: :delete%>
    <% end %>
    <% if !author_signed_in? %>
      <%= link_to 'Register', new_author_registration_path%>
      <%= link_to 'Log In', new_author_session_path%>
    <% end %>
</div>

<div class="page-body">
    <div class="page-content">
        <table class="post-list-table">
            <tr>
              <th class="table-title">Title</th>
              <th class="table-author">Author</th>
              <th class="table-published-time">Published Time</th>
            </tr>
           
            <% @posts.each do |post| %>
              <tr>
                <td><%= link_to post.title, post %></td>
                <td><%= post.author.email %></td>
                <td><%= post.created_at.strftime("%B %d, %Y") %></td>
              </tr>
            <% end %>
        </table>
        <%= form_tag posts_path, method: :get do %>
          <%= pluralize(@total_posts, "result")%> found! 
          <%= button_tag "Go to page" %>
          <%= select_tag :go_to_page, options_for_select([*(1..@total_page)], @go_to_page) %>
          with 
          <%= text_field_tag :per_page, @per_page %>
          per page
        <% end %>
    </div>
</div>