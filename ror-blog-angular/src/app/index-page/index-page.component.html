<div class="page-header">
  <ng-container *ngIf="blogger; else allPost">
    <h1 class="page-title">{{blogger?.email}}'s Blog</h1>
    <a href="index">Back to all</a>
  </ng-container>
  <ng-template #allPost>
    <h1 class="page-title">All Posts</h1>
    <a (click)="goToSignOut()">Sign Out</a>
    <ng-container *ngIf="author_signed_in; else notYetLogIn">
      <a href="index">New Post</a>
      <a href="index">Sign Out</a>
    </ng-container>
    <ng-template #notYetLogIn>
      <a (click)="goToSignUp()">Register</a>
      <a (click)="goToSignIn()">Sing In</a>
    </ng-template>
  </ng-template>
</div>

<div class="page-body">
  <div class="page-content">
    <table class="post-list-table">
      <tr>
        <th class="table-title">Title</th>
        <th class="table-author">Author</th>
        <th class="table-published-time">Published Time</th>
      </tr>

      <tr *ngFor="let post of posts">
        <td><a (click)="goToPost()">{{post?.title}}</a></td>
        <td>{{post?.author?.email}}</td>
        <td>{{post?.created_at}}</td>
      </tr>
    </table>
    <br>
    {{pagination?.total_posts}} found! <br>
    <a (click)="paginate()">Go to page</a>
    <select [(ngModel)]="toPage">
      <option *ngFor="let page of pages" [ngValue]="page+1">{{page+1}}</option>
    </select>
    / {{this.totalPages}} with <input type="text" [(ngModel)]="perPage"> posts per page
  </div>
</div>
