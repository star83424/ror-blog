<div class="page-header">
  <ng-container *ngIf="blogger; else allPost">
    <h1 class="page-title">{{blogger?.email}}'s Blog</h1>
    <button>Back to all</button>
  </ng-container>
  <ng-template #allPost>
    <h1 class="page-title">All Posts</h1>
    <button (click)="signOut()">Sign Out</button>
    <ng-container *ngIf="author_signed_in; else notYetLogIn">
      <button>New Post</button>
      <button>Sign Out</button>
    </ng-container>
    <ng-template #notYetLogIn>
      <button (click)="signUp()">Register</button>
      <button (click)="signIn()">Sing In</button>
    </ng-template>
  </ng-template>
</div>

<div class="page-body">
  <div class="page-content">
    <table class="post-list-table">
      <tr>
        <th class="table-title">Title</th>
        <th class="table-author">Author</th>
        <th class="table-published-time">Published Time</th>
      </tr>

      <tr *ngFor="let post of posts">
        <td><a (click)="goToPost()">{{post?.title}}</a></td>
        <td>{{post?.author?.email}}</td>
        <td>{{post?.created_at}}</td>
      </tr>
    </table>
    <br>
    {{totalPosts}} found! <br>
    <button (click)="paginate()">Go to page</button>
    <select [(ngModel)]="goToPage">
      <option *ngFor="let page of pages" [ngValue]="page+1">{{page+1}}</option>
    </select>
    / {{this.totalPage}} with <input type="text" [(ngModel)]="perPage"> posts per page
  </div>
</div>
